(function(e){function t(t){for(var s,o,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=o(o.s=i[0]))}return e}var s={},a={app:0},n=[];function o(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=s,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(i,s,function(t){return e[t]}.bind(null,s));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"01ab":function(e,t,i){},"034f":function(e,t,i){"use strict";i("85ec")},1182:function(e,t,i){},"1a86":function(e,t,i){e.exports=i.p+"img/Logo.a31b935b.svg"},"34ba":function(e,t,i){"use strict";i("1182")},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}},[i("NavBar",{attrs:{autenticato:e.isLoggedIn,accesso:e.showLoginForm,disconnetti:e.doDisconnetti,role:e.role}}),e.showLogin?i("ModalAccesso",{attrs:{caricamento:e.caricamento,toggle:e.toggleLoginForm,loginResponse:e.loginResponse},on:{"accedi-cliccato":e.doAccedi}}):e._e()],1),i("router-view",{staticClass:"fullpage",attrs:{loginStatus:e.isLoggedIn,accesso:e.showLoginForm}})],1)},n=[],o=(i("d3b7"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[i("div",{staticClass:"navbar-brand"},[i("router-link",{staticClass:"navbar-item is-primary is-active",attrs:{to:"/"}},[e._v(" Ri-UniTO ")]),i("a",{staticClass:"navbar-burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{click:function(t){e.showNavbar=!e.showNavbar}}},[i("span",{attrs:{"aria-hidden":"true"}}),i("span",{attrs:{"aria-hidden":"true"}}),i("span",{attrs:{"aria-hidden":"true"}})])],1),i("div",{staticClass:"navbar-menu",class:{"is-active":e.showNavbar},attrs:{id:"navbarBasicExample"}},[i("div",{staticClass:"navbar-end"},[i("router-link",{staticClass:"navbar-item center",attrs:{"active-class":e.active,to:"/prenota"}},[e._v(" Prenota ")]),i("router-link",{staticClass:"navbar-item center",attrs:{"active-class":e.active,to:"/prenotazioni"}},[e._v(" Le tue prenotazioni ")])],1),"admin"==e.role?i("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[i("a",{staticClass:"navbar-link"},[e._v(" Admin tools ")]),i("div",{staticClass:"navbar-dropdown"},[i("router-link",{staticClass:"navbar-item",attrs:{to:"/admin/insegnanti"}},[e._v("Insegnanti")]),i("router-link",{staticClass:"navbar-item",attrs:{to:"/admin/corsi"}},[e._v("Corsi")]),i("router-link",{staticClass:"navbar-item",attrs:{to:"/admin/prenotazioni"}},[e._v("Prenotazioni")])],1)]):e._e(),i("div",{staticClass:"navbar-end"},[i("div",{staticClass:"navbar-item"},[i("div",{staticClass:"buttons"},[i("a",{staticClass:"button is-primary",on:{click:e.primaryButtonCliccato}},[i("strong",[e._v(e._s(e.autenticato?"Disconnetti":"Accedi"))])])])])])])])}),r=[],l={name:"NavBar",props:["accesso","autenticato","disconnetti","role"],methods:{testoBottoneAccesso:function(e){this.testo=e?"Disconnetti":"Accedi"},primaryButtonCliccato:function(){this.autenticato?this.disconnetti():this.accesso()}},data:function(){return{showNavbar:!1,testo:"Accedi",active:"is-tab is-active"}}},c=l,u=(i("34ba"),i("2877")),d=Object(u["a"])(c,o,r,!1,null,null,null),m=d.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal is-active"},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box has-text-centered mb-6 pt-5 pb-5"},[e._m(0),i("h1",{staticClass:"title pt-5"},[e._v("Accedi al tuo account")]),i("h2",{staticClass:"subtitle pb-5"},[e._v("Inserisci email e password.")]),i("form",[i("div",{staticClass:"field mt-4"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"e.g. email@esempio.com",required:""},domProps:{value:e.email},on:{change:e.clearWarns,input:function(t){t.target.composing||(e.email=t.target.value)}}})])]),i("div",{staticClass:"field mt-4"},[i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"********",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])]),e.risultatoAccesso?i("h2",{staticClass:"subtitle has-text-danger"},[e._v(" "+e._s(e.risultatoAccesso)+" ")]):e._e(),e.loginResponse?i("h2",{staticClass:"subtitle has-text-danger"},[e._v(" "+e._s(e.loginResponse)+" ")]):e._e(),i("button",{staticClass:"button mt-4 is-primary is-fullwidth",class:[e.caricamento?"is-loading":""],attrs:{type:"submit"},on:{click:e.accedi}},[e._v(" Accedi ")]),i("button",{staticClass:"button mt-4 is-fullwidth",on:{click:e.toggle}},[e._v(" Annulla ")])])])]),i("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:e.toggle}})])},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("figure",{staticClass:"image is-128x128 is-inline-block"},[s("img",{attrs:{src:i("1a86")}})])}],p=(i("ac1f"),i("466d"),{name:"ModalAccesso",props:["toggle","caricamento","loginResponse"],data:function(){return{email:"",password:"",risultatoAccesso:""}},methods:{clearWarns:function(){this.risultatoAccesso=""},validateEmail:function(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)},checkFields:function(){return this.password||this.email?this.email?this.password?this.validateEmail(this.email)?void 0:"Email in formato errato":"Password vuota":"Mail vuota":"Campi vuoti"},accedi:function(){var e=this.checkFields();e?this.risultatoAccesso=e:this.$emit("accedi-cliccato",{email:this.email,password:this.password})}}}),g=p,f=Object(u["a"])(g,v,h,!1,null,null,null),b=f.exports,C=i("bc3a"),y=i.n(C),_=i("4328"),k={data:function(){return{pagina:0,role:"",titolo_settore:"Pagina web",message:"Hello Vue1!2",showLogin:!1,isLoggedIn:!1,caricamento:!1,loginResponse:""}},methods:{toggleLoginForm:function(){this.showLogin=!this.showLogin},showLoginForm:function(){this.showLogin=!0},doAccedi:function(e){this.caricamento=!0;var t=this;y.a.defaults.withCredentials=!0,y.a.post("//log-in",_.stringify({email:e.email,password:e.password}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),200==e.status?e.data.role?("admin"==e.data.role?t.role="admin":t.role="user",console.log("ok"),t.toggleLoginForm(),t.isLoggedIn=!0):t.loginResponse="username o password errati":t.loginResponse="Server irraggiungibile"})).catch((function(e){t.loginResponse=""+e})).finally((function(){t.caricamento=!1}))},doDisconnetti:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.delete("//log-in",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status&&(console.log("sloggato"),e.isLoggedIn=!1,e.role="")})).finally((function(){e.$router.push("/")}))}},components:{NavBar:m,ModalAccesso:b}},z=k,P=(i("034f"),Object(u["a"])(z,a,n,!1,null,null,null)),w=P.exports,O=i("8c4f"),A=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("HomePage")],1)},S=[],x=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},R=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("section",{staticClass:"hero is-white is-fullheight"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns is-vcentered reverse-columns"},[s("div",{staticClass:"column is-10-mobile is-offset-1-mobile is-10-tablet is-offset-1-tablet is-5-desktop is-offset-1-desktop is-5-widescreen is-offset-1-widescreen is-5-fullhd is-offset-1-fullhd",attrs:{"data-aos":"fade-right"}},[s("h1",{staticClass:"title titled is-1 mb-6"},[e._v(" Ben Ri-UniTO! ")]),s("h2",{staticClass:"subtitle subtitled"},[s("p",[e._v("Questo è il portale delle ripetizioni dell'Università degli studi di Torino.")]),s("p",[e._v("Clicca "),s("span",{staticClass:"has-text-primary has-text-weight-bold"},[e._v('"Prenota"')]),e._v(" per visualizzare le prenotazioni disponibli, non è necessario nessun account!")])])]),s("div",{staticClass:"column is-10-mobile is-offset-1-mobile is-10-tablet is-offset-1-tablet is-4-desktop is-offset-1-desktop is-4-widescreen is-offset-1-widescreen is-4-fullhd is-offset-1-fullhd",attrs:{"data-aos":"fade-down"}},[s("figure",{staticClass:"image is-square"},[s("img",{attrs:{src:i("1a86")}})])])])])])])])}],E={name:"HomePage"},T=E,D=Object(u["a"])(T,x,R,!1,null,"774030ff",null),I=D.exports,F={name:"Home",components:{HomePage:I}},U=F,j=Object(u["a"])(U,A,S,!1,null,null,null),M=j.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container pt-6"},[e.subjectPrenotating?i("ModalConferma",{attrs:{payload:e.subjectPrenotating,confirmAction:e.axiosBookReservation,cancelAction:e.clearOngoingAction}}):e._e(),e.esitoOperazione?i("ModalGenerico",{attrs:{isSuccess:e.esitoOperazione.success,title:e.esitoOperazione.title,subtitle:e.esitoOperazione.subtitle,btnPrimary:e.esitoOperazione.btnPrimary,btnSecondary:e.esitoOperazione.btnSecondary,btnPAction:e.clearOngoingAction,btnCloseAction:e.clearOngoingAction}}):e._e(),e._m(0),i("div",{staticClass:"container pt-4"},[i("div",{staticClass:"card pt-5"},[i("header",{staticClass:"has-text-centered"},[i("span",{staticClass:"icon-text is-vcentered is-size-4"},[i("span",{staticClass:"icon is-vcentered faarrows is-size-6",on:{click:function(t){return e.changeDay(-1)}}},[i("ion-icon",{attrs:{name:"chevron-back-outline"}})],1),i("span",[i("h1",{staticClass:"mr-2 ml-2"},[e._v(e._s(e.dayWeeks.extended[e.dayKey]))])]),i("span",{staticClass:"icon is-vcentered faarrows is-size-6",on:{click:function(t){return e.changeDay(1)}}},[i("ion-icon",{attrs:{name:"chevron-forward-outline"}})],1)])]),e.parsed?i("div",{staticClass:"card-content"},[e._l(e.currentDaySubjects,(function(t,s){return i("div",{key:s,staticClass:"columns is-fixed-top"},[i("div",{staticClass:"column is-1 has-text-right has-text-centered-mobile"},[i("div",{staticClass:"mt-1"},[i("p",[e._v(e._s(e.convertTimeKey(s)))])])]),i("div",{staticClass:"column is-11"},[i("div",{staticClass:"columns is-mobile is-multiline"},e._l(t,(function(t){return i("Subject",{key:t.id,attrs:{id:t.id,editable:!1,materia:t.course.title,data:e.dayWeeks.extended[e.dayKey],orario:e.convertTimeKey(s),professore:t.teacher.name+" "+t.teacher.surname},on:{pPrenota:e.askReservation}})})),1)])])})),i("p",{staticClass:"mb-6"})],2):i("div",{staticClass:"card-content"},[i("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[e._v("15%")])])])])],1)},B=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title"},[e._v("Prenota")]),i("h2",{staticClass:"subtitle"},[e._v("Seleziona le materie a cui vuoi prenotarti")])])}],q=(i("159b"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"column",on:{click:function(t){return e.prenota()}}},[i("div",{staticClass:"box box-materia is-size-4"},[e._v(" "+e._s(e.materia)+" "),e.editable?i("span",{staticClass:"ml-2 has-text-right tag",class:this.statusStyle()},[e._v(e._s(this.statusText()))]):e._e(),i("div",{staticClass:"box-materia-professore"},[e._v(" "+e._s(e.professore)+" ")]),e.editable?i("div",{staticClass:"mt-4 has-text-right"},[i("button",{staticClass:"button is-success is-light mr-2",attrs:{disabled:e.isDisabled()},on:{click:e.confermaEsecuzione}},[e._v(" Effettuata ")]),i("button",{staticClass:"button is-danger is-light",attrs:{disabled:e.isDisabled()},on:{click:e.disdiciPrenotazione}},[e._v(" Disdici ")])]):e._e()])])}),N=[],G=(i("a9e3"),{name:"Subject",props:{id:Number,materia:String,professore:String,orario:String,data:String,statoPrenotazione:String,editable:{type:Boolean,default:!1}},methods:{test:function(){console.log(this.id)},statusStyle:function(){return"deleted"==this.statoPrenotazione?"is-warning":"completed"==this.statoPrenotazione?"is-success":"is-link"},statusText:function(){var e="";switch(this.statoPrenotazione){case"deleted":e="Disdetta";break;case"completed":e="Effettuata";break;default:e="Prenotata";break}return e},prenota:function(){this.editable||this.$emit("pPrenota",{idPrenotazione:this.id,docente:this.professore,orario:this.orario,materia:this.materia,data:this.data})},confermaEsecuzione:function(){this.$emit("pEffettuata",{idPrenotazione:this.id,docente:this.professore,orario:this.orario,materia:this.materia,data:this.data})},disdiciPrenotazione:function(){this.$emit("pDisdetta",{idPrenotazione:this.id,docente:this.professore,orario:this.orario,materia:this.materia,data:this.data})},isDisabled:function(){return"deleted"==this.statoPrenotazione||"completed"==this.statoPrenotazione}}}),L=G,H=Object(u["a"])(L,q,N,!1,null,null,null),K=H.exports,W=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal is-active"},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box has-text-centered mb-6 pt-5 pb-5 "},[i("h1",{staticClass:"title pt-5"},[e._v(e._s(e.payload.actionTitle))]),i("h2",{staticClass:"subtitle pb-5",staticStyle:{"white-space":"pre-line"}},[e._v(" "+e._s(e.payload.actionText)+" ")]),e.isMateria()?i("h3",{staticClass:"title is-3 pt-3"},[e._v(e._s(e.payload.materia.materia))]):e._e(),e.isMateria()?i("p",[e._v(" "+e._s(e.payload.materia.docente)+" ")]):e._e(),e.isInsegnanteWithID()?i("p",[e._v(" "+e._s(e.payload.insegnante.id)+" ")]):e._e(),e.isInsegnante()?i("p",[e._v(" "+e._s(e.payload.insegnante.nome+" "+e.payload.insegnante.cognome)+" ")]):e._e(),e.isCorsoWithID()?i("p",[e._v(" "+e._s(e.payload.corso.id)+" ")]):e._e(),e.isCorso()?i("p",[e._v(" "+e._s(e.payload.corso.titoloCorso)+" ")]):e._e(),e.isMateria()?i("p",[e._v(" "+e._s(e.payload.materia.data+" "+e.payload.materia.orario)+" ")]):e._e(),e.isAddingNewReservation()?i("div",[i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.ripetizione.materia))]),i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.ripetizione.professore))]),i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.ripetizione.giorno+" "+e.payload.ripetizione.ora))])]):e._e(),e.isBookingForUser()?i("div",[i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.bookingForUser.email))]),i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.bookingForUser.materia))]),i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.bookingForUser.professore))]),i("p",{staticClass:"is-capitalized"},[e._v(e._s(e.payload.bookingForUser.data+" "+e.payload.bookingForUser.ora))])]):e._e(),i("button",{staticClass:"button mt-4 is-primary is-fullwidth",on:{click:e.confirmAction}},[e._v("Conferma")]),i("button",{staticClass:"button mt-4 is-fullwidth",on:{click:e.cancelAction}},[e._v(" Annulla ")])])]),i("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:e.cancelAction}})])},V=[],Q={name:"ModalConferma",props:["payload","confirmAction","cancelAction"],methods:{isMateria:function(){return"materia"in this.payload},isInsegnante:function(){return"insegnante"in this.payload},isInsegnanteWithID:function(){return!(!this.isInsegnante()||!("id"in this.payload.insegnante))},isCorso:function(){return"corso"in this.payload},isCorsoWithID:function(){return!(!this.isCorso()||!("id"in this.payload.corso))},isAddingNewReservation:function(){return"ripetizione"in this.payload},isBookingForUser:function(){return"bookingForUser"in this.payload}}},Z=Q,J=Object(u["a"])(Z,W,V,!1,null,null,null),X=J.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal is-active"},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-content"},[i("div",{staticClass:"box has-text-centered mb-6 pt-5 pb-5"},[i("h1",{staticClass:"title pt-5"},[e._v(" "+e._s(e.title)+" ")]),e.subtitle?i("h2",{staticClass:"subtitle pb-5",staticStyle:{"white-space":"pre-line"}},[e._v(" "+e._s(e.subtitle)+" ")]):e._e(),e.isSuccess?i("ion-icon",{staticClass:"ion-icon-big-success",attrs:{name:"checkmark-circle-outline"}}):i("ion-icon",{staticClass:"ion-icon-big-error",attrs:{name:"close-circle-outline"}}),i("button",{staticClass:"button mt-4 is-primary is-fullwidth",on:{click:e.btnPAction}},[e._v(" "+e._s(e.btnPrimary)+" ")]),e.btnSecondary?i("button",{staticClass:"button mt-4 is-fullwidth",on:{click:e.btnSAction}},[e._v(" "+e._s(e.btnSecondary)+" ")]):e._e()],1)]),i("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:e.btnCloseAction}})])},ee=[],te={name:"ModalGenerico",props:{isSuccess:{required:!1,default:!0},title:String,subtitle:{type:String,required:!1},btnPrimary:String,btnSecondary:{required:!1,type:String},btnPAction:{required:!1},btnSAction:{required:!1},btnCloseAction:{required:!0}}},ie=te,se=Object(u["a"])(ie,Y,ee,!1,null,null,null),ae=se.exports,ne={data:function(){return{dayKey:0,parsed:!1,materie:[],materieFiltered:{},currentDaySubjects:[],dayWeeks:{short:["lun","mar","mer","gio","ven"],extended:["lunedì","martedì","mercoledì","giovedì","venerdì"]},esitoOperazione:null,subjectPrenotating:null}},mounted:function(){this.getReservationsAvailable()},methods:{convertTimeKey:function(e){var t="";switch(e){case"time15":t="15-16";break;case"time16":t="16-17";break;case"time17":t="17-18";break;case"time18":t="18-19";break}return t},getReservationsAvailable:function(){var e=this;y.a.get("//available-reservations").then((function(t){console.log(t),e.materie=t.data,e.filterSubjects()})).catch((function(t){e.loginResponse=""+t})).finally((function(){e.caricamento=!1}))},changeDay:function(e){this.dayKey=-1==e?0==this.dayKey?4:this.dayKey-1:4==this.dayKey?0:this.dayKey+1,this.currentDaySubjects=this.materieFiltered[this.dayWeeks.short[this.dayKey]]},filterSubjects:function(){var e=[],t=[],i=[],s=[],a=[];this.materie.forEach((function(n){switch(console.log(n.date),n.date){case"lun":e.push(n);break;case"mar":t.push(n);break;case"mer":i.push(n);break;case"gio":s.push(n);break;case"ven":a.push(n);break;default:break}})),this.materieFiltered.lun=e,this.materieFiltered.mar=t,this.materieFiltered.mer=i,this.materieFiltered.gio=s,this.materieFiltered.ven=a,this.filterSubjectsByHour()},filterSubjectsByHour:function(){var e=[],t=[],i=[],s=[];for(var a in this.materieFiltered)this.materieFiltered[a].forEach((function(a){switch(a.time){case"15":e.push(a);break;case"16":t.push(a);break;case"17":i.push(a);break;case"18":s.push(a);break;default:break}})),this.materieFiltered[a]={time15:e,time16:t,time17:i,time18:s},e=[],t=[],i=[],s=[];this.parsed=!0,this.currentDaySubjects=this.materieFiltered[this.dayWeeks.short[this.dayKey]]},axiosBookReservation:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.put("//available-reservations?idReservationAvailable="+e.subjectPrenotating.materia.idPrenotazione,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Ripetizione prenotata con successo.",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.getReservationsAvailable()}))},askReservation:function(e){this.subjectPrenotating={materia:{idPrenotazione:e.idPrenotazione,docente:e.docente,data:e.data,orario:e.orario,materia:e.materia},actionTitle:"Prenota",actionText:"Confermi di volerti prenotare?"}},clearOngoingAction:function(){this.esitoOperazione=null,this.subjectPrenotating=null}},props:{giorno:String,prenotazioni:Object},components:{Subject:K,ModalGenerico:ae,ModalConferma:X}},oe=ne,re=Object(u["a"])(oe,$,B,!1,null,null,null),le=re.exports,ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container pt-6"},[e.subjectDeleting?i("ModalConferma",{attrs:{payload:e.subjectDeleting,confirmAction:e.axiosDeleteReservation,cancelAction:e.clearOngoingAction}}):e._e(),e.subjectDone?i("ModalConferma",{attrs:{payload:e.subjectDone,confirmAction:e.axiosCompleteReservation,cancelAction:e.clearOngoingAction}}):e._e(),e.esitoOperazione?i("ModalGenerico",{attrs:{isSuccess:e.esitoOperazione.success,title:e.esitoOperazione.title,subtitle:e.esitoOperazione.subtitle,btnPrimary:e.esitoOperazione.btnPrimary,btnSecondary:e.esitoOperazione.btnSecondary,btnPAction:e.clearOngoingAction,btnCloseAction:e.clearOngoingAction}}):e._e(),e._m(0),i("div",{staticClass:"container pt-4"},[i("div",{staticClass:"card pt-5",on:{"loginStatus:change":e.getReservationsBooked}},[i("header",{staticClass:"has-text-centered"},[e.isLoggedIn?i("div",[i("span",{staticClass:"icon-text is-vcentered is-size-4"},[i("span",{staticClass:"icon is-vcentered faarrows is-size-6",on:{click:function(t){return e.changeDay(-1)}}},[i("ion-icon",{attrs:{name:"chevron-back-outline"}})],1),i("span",[i("h1",{staticClass:"mr-2 ml-2"},[e._v(" "+e._s(e.dayWeeks.extended[e.dayKey])+" ")])]),i("span",{staticClass:"icon is-vcentered faarrows is-size-6",on:{click:function(t){return e.changeDay(1)}}},[i("ion-icon",{attrs:{name:"chevron-forward-outline"}})],1)])]):e._e()]),e.parsed&&e.isLoggedIn?i("div",{staticClass:"card-content"},[e._l(e.currentDaySubjects,(function(t,s){return i("div",{key:s,staticClass:"columns is-fixed-top"},[i("div",{staticClass:"column is-1 has-text-right has-text-centered-mobile"},[i("div",{staticClass:"mt-1"},[i("p",[e._v(e._s(e.convertTimeKey(s)))])])]),i("div",{staticClass:"column is-11"},[i("div",{staticClass:"columns is-mobile is-multiline"},e._l(t,(function(t){return i("Subject",{key:t.id,attrs:{id:t.id,editable:!0,materia:t.course.title,statoPrenotazione:t.status,professore:t.teacher.name+" "+t.teacher.surname,orario:e.convertTimeKey(s),data:e.dayWeeks.extended[e.dayKey]},on:{click:e.testMateria,pEffettuata:e.reservationDone,pDisdetta:e.reservationCancelled}})})),1)])])})),i("p",{staticClass:"mb-6"})],2):i("div",{staticClass:"card-content"},[e.loginStatus?i("div",[i("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[e._v(" 15% ")])]):i("div",[e._m(1),i("button",{staticClass:"button is-primary",on:{click:e.loginStatusChanged}},[e._v(" Accedi ")]),i("button",{staticClass:"button is-light ml-4",on:{click:e.goToHomePage}},[e._v(" Torna alla home ")])])])])])],1)},ue=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title"},[e._v("Prenotazioni")]),i("h2",{staticClass:"subtitle"},[e._v("Riepilogo delle tue prenotazioni")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"message is-danger"},[i("div",{staticClass:"message-header"},[i("p",[e._v("Attenzione!")])]),i("div",{staticClass:"message-body"},[e._v(" Per accedere a questa pagina devi aver effettuato l'accesso. "),i("br"),e._v('Clicca il bottone "Accedi" per autenticarti. ')])])}],de=(i("caad"),i("2532"),{data:function(){return{dayKey:0,parsed:!1,materie:[],isLoggedIn:!1,materieFiltered:{},subjectDone:null,subjectDeleting:null,currentDaySubjects:[],dayWeeks:{short:["lun","mar","mer","gio","ven"],extended:["lunedì","martedì","mercoledì","giovedì","venerdì"]},esitoOperazione:null}},props:["loginStatus","accesso"],watch:{loginStatus:function(e){console.log(e),e?this.getReservationsBooked():this.isLoggedIn=!1}},mounted:function(){this.loginStatus&&this.getReservationsBooked()},methods:{clearOngoingAction:function(){this.subjectDone=null,this.subjectDeleting=null,this.esitoOperazione=null},axiosDeleteReservation:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.put("//requested-reservations?idRequestedReservation="+e.subjectDeleting.materia.idPrenotazione+"&status=deleted",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Prenotazione cancellata con successo.",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){"data"in t.response?t.response.data.includes("reservation_available_duplicate")?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Prenotazione cancellata con successo.",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data,btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Riprovare",btnPrimary:"Ok"}})).finally((function(){e.getReservationsBooked()}))},axiosCompleteReservation:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.put("//requested-reservations?idRequestedReservation="+e.subjectDone.materia.idPrenotazione+"&status=completed",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Prenotazione contrassegnata come completata.",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.getReservationsBooked()}))},reservationCancelled:function(e){this.subjectDeleting={materia:{idPrenotazione:e.idPrenotazione,docente:e.docente,orario:e.orario,data:e.data,materia:e.materia},actionTitle:"Disiscrizione",actionText:"Confermi di volerti disiscrivere? \n\t\t\t\tQuesta operazione è irreversibile."}},reservationDone:function(e){this.subjectDone={materia:{idPrenotazione:e.idPrenotazione,docente:e.docente,orario:e.orario,data:e.data,materia:e.materia},actionTitle:"Completata",actionText:"Confermi di aver completato la ripetizione?\n\t\t\t\tQuesta operazione è irreversibile."}},loginStatusChanged:function(){this.accesso()},convertTimeKey:function(e){var t="";switch(e){case"time15":t="15-16";break;case"time16":t="16-17";break;case"time17":t="17-18";break;case"time18":t="18-19";break}return t},getReservationsBooked:function(){var e=this;y.a.get("//user-reservations").then((function(t){e.isLoggedIn=!0,e.materie=t.data,e.filterSubjects()})).catch((function(){e.isLoggedIn&&(e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Login error, riaccedi.",btnPrimary:"Ok"},e.isLoggedIn=!1)})).finally((function(){e.caricamento=!1}))},changeDay:function(e){this.dayKey=-1==e?0==this.dayKey?4:this.dayKey-1:4==this.dayKey?0:this.dayKey+1,this.currentDaySubjects=this.materieFiltered[this.dayWeeks.short[this.dayKey]]},filterSubjects:function(){console.log("ref");var e=[],t=[],i=[],s=[],a=[];this.materie.forEach((function(n){switch(console.log(n.rDate),n.rDate){case"lun":e.push(n);break;case"mar":t.push(n);break;case"mer":i.push(n);break;case"gio":s.push(n);break;case"ven":a.push(n);break;default:break}})),this.materieFiltered.lun=e,this.materieFiltered.mar=t,this.materieFiltered.mer=i,this.materieFiltered.gio=s,this.materieFiltered.ven=a,this.filterSubjectsByHour()},filterSubjectsByHour:function(){var e=[],t=[],i=[],s=[];for(var a in this.materieFiltered)this.materieFiltered[a].forEach((function(a){switch(a.rTime){case"15":e.push(a);break;case"16":t.push(a);break;case"17":i.push(a);break;case"18":s.push(a);break;default:break}})),this.materieFiltered[a]={time15:e,time16:t,time17:i,time18:s},e=[],t=[],i=[],s=[];this.parsed=!0,this.currentDaySubjects=this.materieFiltered[this.dayWeeks.short[this.dayKey]]},testMateria:function(){alert("")},goToHomePage:function(){this.$router.push("/prenota")}},components:{Subject:K,ModalConferma:X,ModalGenerico:ae}}),me=de,ve=Object(u["a"])(me,ce,ue,!1,null,null,null),he=ve.exports,pe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticClass:"container pt-6"},[e.isDeletingTeacher?i("ModalConferma",{attrs:{payload:e.deletingTeacherPayload,confirmAction:e.axiosDeleteInsegnante,cancelAction:e.clearOngoingAction}}):e._e(),e.isInsertingTeacher?i("ModalConferma",{attrs:{payload:e.insertingTeacherPayload,confirmAction:e.axiosInsertInsegnante,cancelAction:e.clearOngoingAction}}):e._e(),e.esitoOperazione?i("ModalGenerico",{attrs:{isSuccess:e.esitoOperazione.success,title:e.esitoOperazione.title,subtitle:e.esitoOperazione.subtitle,btnPrimary:e.esitoOperazione.btnPrimary,btnSecondary:e.esitoOperazione.btnSecondary,btnPAction:e.clearOngoingAction,btnCloseAction:e.clearOngoingAction}}):e._e(),e._m(0),e.loginStatus?i("div",[e.hasRetrivedTeachers?i("div",[i("div",{staticClass:"card pt-5 pb-3 mb-5"},[i("div",{staticClass:"card-content"},[e._m(1),i("table",{staticClass:"table is-hoverable is-striped is-fullwidth"},[e._m(2),i("tbody",e._l(e.insegnanti,(function(t){return i("tr",{key:t.id},[i("td",{staticClass:"is-vcentered"},[e._v(" "+e._s(t.id)+" ")]),i("td",{staticClass:"is-vcentered"},[e._v(" "+e._s(t.name)+" ")]),i("td",{staticClass:"is-vcentered"},[e._v(" "+e._s(t.surname)+" ")]),i("td",{staticClass:"is-vcentered"},[i("button",{staticClass:"button is-danger",on:{click:function(i){return e.deleteInsegnanteConferma(t.id)}}},[i("span",{staticClass:"icon is-small mr-1"},[i("ion-icon",{attrs:{name:"trash-outline"}})],1),e._v(" Elimina ")])])])})),0)])])])]):i("div",[i("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[e._v(" 15% ")])]),i("div",{staticClass:"card pt-5"},[i("div",{staticClass:"card-content"},[e._m(3),i("div",{staticClass:"card-content"},[i("div",{staticClass:"tag is-danger is-light mb-2"},[e._v(" Tutti i campi sono obbligatori. ")]),i("form",{on:{submit:e.checkFieldAndAsk}},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Nome")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.nome,expression:"nome"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g Mario",required:""},domProps:{value:e.nome},on:{input:function(t){t.target.composing||(e.nome=t.target.value)}}})])]),i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Cognome")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.cognome,expression:"cognome"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g Rossi",required:""},domProps:{value:e.cognome},on:{input:function(t){t.target.composing||(e.cognome=t.target.value)}}})])]),i("div",[i("button",{staticClass:"pt-3 button is-primary is-fullwidth",attrs:{type:"submit"}},[e._v(" Aggiungi ")]),i("button",{staticClass:"mt-3 button is-fullwidth",on:{click:function(t){return e.clearFields()}}},[e._v(" Pulisci i campi ")])])])])])])]):i("div",[e._m(4),i("button",{staticClass:"button is-primary",on:{click:e.loginStatusChanged}},[e._v(" Accedi ")]),i("button",{staticClass:"button is-light ml-4",on:{click:e.goToHomePage}},[e._v(" Torna alla home ")])])],1)])])},ge=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title"},[e._v(" Gestione insegnanti "),i("span",{staticClass:"tag is-primary is-danger"},[e._v("Admin")])]),i("h2",{staticClass:"subtitle mb-5"},[e._v(" Aggiungi o rimuovi un insegnante. ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4 pb-5"},[e._v(" Rimozione insegnante ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("Identificativo")]),i("th",[e._v("Nome")]),i("th",[e._v("Cognome")]),i("th",[e._v("Rimuovi")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4"},[e._v(" Inserimento insegnante ")]),i("h2",{staticClass:"subtitle is-6 pb-3"},[e._v(" Inserisci i dettagli dell'insegnante ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"message is-danger"},[i("div",{staticClass:"message-header"},[i("p",[e._v("Attenzione!")])]),i("div",{staticClass:"message-body"},[e._v(" Per accedere a questa pagina devi aver effettuato l'accesso come Admin. "),i("br"),e._v('Clicca il bottone "Accedi" per autenticarti. ')])])}],fe=(i("00b4"),i("498a"),i("7db0"),i("b0c0"),i("4328")),be={name:"GestioneInsegnanti",props:{loginStatus:{required:!0,default:!1},accesso:{required:!0}},data:function(){return{hasRetrivedTeachers:!0,esitoOperazione:null,insegnanti:null,isDeletingTeacher:!1,deletingTeacherPayload:null,insertingTeacherPayload:null,nome:null,cognome:null,isInsertingTeacher:!1}},watch:{loginStatus:function(e){e&&this.getInsegnanti()}},mounted:function(){this.loginStatus&&this.getInsegnanti()},methods:{clearOngoingAction:function(){this.esitoOperazione=null,this.isDeletingTeacher=!1,this.deletingTeacherPayload=null,this.isInsertingTeacher=!1,this.insertingTeacherPayload=null},clearFields:function(){this.nome=null,this.cognome=null},goToHomePage:function(){this.$router.push("/prenota")},loginStatusChanged:function(){this.accesso()},checkFieldAndAsk:function(){var e=/^([a-zA-Z])+(( ){1}[A-z]+)*$/;null!=this.nome&&e.test(this.nome.trim())?(this.insertInsegnanteConferma(),null!=this.nome&&e.test(this.cognome.trim())?this.insertInsegnanteConferma():this.esitoOperazione={success:!1,title:"Errore!",subtitle:"Formato cognome errato! \n\t\t\t\t\tIl cognome può contenere solo lettere.\n\t\t\t\t\tSeparare più cognomi tramite uno spazio.\n\t\t\t\t\t",btnPrimary:"Ok"}):this.esitoOperazione={success:!1,title:"Errore!",subtitle:"Formato nome errato! \n\t\t\t\t\tIl nome può contenere solo lettere.\n\t\t\t\t\tSeparare più nomi tramite uno spazio.\n\t\t\t\t\t",btnPrimary:"Ok"}},axiosDeleteInsegnante:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.delete("//teacher?idTeacher="+e.deletingTeacherPayload.insegnante.id,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("fff"+t.data),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Insegnante correttamente rimosso",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){console.log("fff"+t),e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.hasRetrivedTeachers=!1,e.getInsegnanti()}))},deleteInsegnanteConferma:function(e){var t=this.insegnanti.find((function(t){return t.id==e}));this.isDeletingTeacher=!0,this.deletingTeacherPayload={actionTitle:"Elimina",actionText:"Vuoi rimuovere questo insegnante?\n\t\t\t\tQuesta operazione è irreversibile",insegnante:{nome:t.name,cognome:t.surname,id:t.id}},console.log(e)},axiosInsertInsegnante:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.post("//teacher",fe.stringify({name:e.insertingTeacherPayload.insegnante.nome,surname:e.insertingTeacherPayload.insegnante.cognome}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("fff"+t.data),200==t.status?(e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Insegnante correttamente rimosso",btnPrimary:"Ok"},e.clearFields()):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){console.log("fff"+t),e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.hasRetrivedTeachers=!1,e.getInsegnanti()}))},insertInsegnanteConferma:function(){this.isInsertingTeacher=!0,this.insertingTeacherPayload={actionTitle:"Inserisci",actionText:"Vuoi aggiunre questo insegnante?",insegnante:{nome:this.nome.trim(),cognome:this.cognome.trim()}}},getInsegnanti:function(){this.hasRetrivedTeachers=!1;var e=this;y.a.defaults.withCredentials=!0,y.a.get("//teacher",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?(e.insegnanti=t.data,e.hasRetrivedTeachers=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))}},components:{ModalConferma:X,ModalGenerico:ae}},Ce=be,ye=(i("f5fb"),Object(u["a"])(Ce,pe,ge,!1,null,null,null)),_e=ye.exports,ke=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",[i("div",{staticClass:"container pt-6"},[e.isDeletingCourse?i("ModalConferma",{attrs:{payload:e.deletingCoursePayload,confirmAction:e.axiosDeleteCorso,cancelAction:e.clearOngoingAction}}):e._e(),e.isInsertingCourse?i("ModalConferma",{attrs:{payload:e.insertingCoursePayload,confirmAction:e.axiosInsertCorso,cancelAction:e.clearOngoingAction}}):e._e(),e.esitoOperazione?i("ModalGenerico",{attrs:{isSuccess:e.esitoOperazione.success,title:e.esitoOperazione.title,subtitle:e.esitoOperazione.subtitle,btnPrimary:e.esitoOperazione.btnPrimary,btnSecondary:e.esitoOperazione.btnSecondary,btnPAction:e.clearOngoingAction,btnCloseAction:e.clearOngoingAction}}):e._e(),e._m(0),e.loginStatus?i("div",[e.hasRetrivedCourses?i("div",[i("div",{staticClass:"card pt-5 pb-3 mb-5"},[i("div",{staticClass:"card-content"},[e._m(1),i("table",{staticClass:"table is-hoverable is-striped is-fullwidth"},[e._m(2),i("tbody",e._l(e.corsi,(function(t){return i("tr",{key:t.id},[i("td",{staticClass:"is-vcentered"},[e._v(" "+e._s(t.id)+" ")]),i("td",{staticClass:"is-vcentered"},[e._v(" "+e._s(t.title)+" ")]),i("td",{staticClass:"is-vcentered"},[i("button",{staticClass:"button is-danger",on:{click:function(i){return e.deleteCorsoConferma(t.id)}}},[i("span",{staticClass:"icon is-small mr-1"},[i("ion-icon",{attrs:{name:"trash-outline"}})],1),e._v(" Elimina ")])])])})),0)])])])]):i("div",[i("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[e._v(" 15% ")])]),i("div",{staticClass:"card pt-5"},[i("div",{staticClass:"card-content"},[e._m(3),i("div",{staticClass:"card-content"},[i("div",{staticClass:"tag is-danger is-light mb-2"},[e._v(" Tutti i campi sono obbligatori. ")]),i("form",{on:{submit:e.checkFieldsAndAsk}},[i("div",{staticClass:"field"},[i("label",{staticClass:"label"},[e._v("Titolo")]),i("div",{staticClass:"control"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.titoloCorso,expression:"titoloCorso"}],staticClass:"input",attrs:{type:"text",placeholder:"e.g Programmazione 3",required:""},domProps:{value:e.titoloCorso},on:{input:function(t){t.target.composing||(e.titoloCorso=t.target.value)}}})])]),i("div",[i("button",{staticClass:"pt-3 button is-primary is-fullwidth"},[e._v(" Aggiungi ")]),i("button",{staticClass:"mt-3 button is-fullwidth",on:{click:function(t){return e.clearFields()}}},[e._v(" Pulisci i campi ")])])])])])])]):i("div",[e._m(4),i("button",{staticClass:"button is-primary",on:{click:e.loginStatusChanged}},[e._v(" Accedi ")]),i("button",{staticClass:"button is-light ml-4",on:{click:e.goToHomePage}},[e._v(" Torna alla home ")])])],1)])])},ze=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title"},[e._v(" Gestione corsi "),i("span",{staticClass:"tag is-primary is-danger"},[e._v("Admin")])]),i("h2",{staticClass:"subtitle mb-5"},[e._v("Aggiungi o rimuovi un corso.")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4 pb-5"},[e._v(" Rimozione corso ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("ID corso")]),i("th",[e._v("Titolo corso")]),i("th",[e._v("Rimuovi")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4"},[e._v("Inserimento corso")]),i("h2",{staticClass:"subtitle is-6 pb-3"},[e._v(" Inserisci i dettagli del corso ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"message is-danger"},[i("div",{staticClass:"message-header"},[i("p",[e._v("Attenzione!")])]),i("div",{staticClass:"message-body"},[e._v(" Per accedere a questa pagina devi aver effettuato l'accesso come Admin. "),i("br"),e._v('Clicca il bottone "Accedi" per autenticarti. ')])])}],Pe=i("4328"),we={name:"GestioneCorsi",props:{loginStatus:{required:!0,default:!1},accesso:{required:!0}},watch:{loginStatus:function(e){e&&this.getCorsi()}},mounted:function(){this.loginStatus&&this.getCorsi()},data:function(){return{hasRetrivedCourses:!0,esitoOperazione:null,corsi:null,isDeletingCourse:!1,deletingCoursePayload:null,insertingCoursePayload:null,titoloCorso:null,isInsertingCourse:!1}},methods:{clearOngoingAction:function(){this.esitoOperazione=null,this.isDeletingCourse=!1,this.deletingCoursePayload=null,this.isInsertingCourse=!1,this.insertingCoursePayload=null},clearFields:function(){this.titoloCorso=null},checkFieldsAndAsk:function(){/^(([A-Za-z][a-z])+((-| )?([A-z0-9]))*)$/.test(this.titoloCorso)?this.insertCorsoConferma():this.esitoOperazione={success:!1,title:"Errore!",subtitle:"Formato titolo errato! \n\t\t\t\t\tIl titolo non può cominciare con un numero.\n\t\t\t\t\tPuò contenere solo lettere, numeri ed i caratteri spazio o trattino (-).",btnPrimary:"Ok"}},goToHomePage:function(){this.$router.push("/prenota")},loginStatusChanged:function(){this.accesso()},axiosDeleteCorso:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.delete("//course?idCourse="+e.deletingCoursePayload.corso.id,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Corso correttamente rimosso",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.hasRetrivedCourses=!1,e.getCorsi()}))},deleteCorsoConferma:function(e){var t=this.corsi.find((function(t){return t.id==e}));this.isDeletingCourse=!0,this.deletingCoursePayload={actionTitle:"Elimina",actionText:"Vuoi rimuovere questo corso?\n\t\t\t\tQuesta operazione è irreversibile",corso:{titoloCorso:t.title,id:t.id}},console.log(e)},axiosInsertCorso:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.post("//course",Pe.stringify({title:e.insertingCoursePayload.corso.titoloCorso}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){200==t.status?(e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Corso correttamente rimosso",btnPrimary:"Ok"},e.clearFields()):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.hasRetrivedCourses=!1,e.getCorsi()}))},insertCorsoConferma:function(){this.isInsertingCourse=!0,this.insertingCoursePayload={actionTitle:"Inserisci",actionText:"Vuoi aggiungere questo corso?",corso:{titoloCorso:this.titoloCorso}}},getCorsi:function(){this.hasRetrivedCourses=!1;var e=this;y.a.defaults.withCredentials=!0,y.a.get("//course",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?(e.corsi=t.data,e.hasRetrivedCourses=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))}},components:{ModalConferma:X,ModalGenerico:ae}},Oe=we,Ae=(i("a6c3"),Object(u["a"])(Oe,ke,ze,!1,null,null,null)),Se=Ae.exports,xe=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",[s("div",{staticClass:"container pt-6"},[t.isDeletingAvailableBooking?s("ModalConferma",{attrs:{payload:t.tutoringDeleting,confirmAction:t.axiosDeleteAvailableTutoring,cancelAction:t.clearOngoingAction}}):t._e(),t.isAddingNewAvailableReservation?s("ModalConferma",{attrs:{payload:t.modalNewAvailableReservationPayload,confirmAction:t.axiosAddNewAvailableReservation,cancelAction:t.clearOngoingAction}}):t._e(),t.esitoOperazione?s("ModalGenerico",{attrs:{isSuccess:t.esitoOperazione.success,title:t.esitoOperazione.title,subtitle:t.esitoOperazione.subtitle,btnPrimary:t.esitoOperazione.btnPrimary,btnSecondary:t.esitoOperazione.btnSecondary,btnPAction:t.clearOngoingAction,btnCloseAction:t.clearOngoingAction}}):t._e(),t.bookingUser?s("BookForUser",{attrs:{hour:t.bookingUserPayload.hour,day:t.bookingUserPayload.day,reservation:t.bookingUserPayload.reservation,teacher:t.bookingUserPayload.teacher},on:{chiuso:t.bookingUserClosed}}):t._e(),t._m(0),t.loginStatus?s("div",[t.hasRetriviedBookingsAvailable?s("div",[s("div",{staticClass:"card pt-5 pb-3 mb-5"},[s("div",{staticClass:"card-content"},[t._m(1),s("table",{staticClass:"table is-hoverable is-striped is-fullwidth"},[t._m(2),s("tbody",t._l(t.availableCourses,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.id)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.course.title)+" ")]),s("td",{staticClass:"is-vcentered is-capitalized"},[t._v(" "+t._s(e.teacher.name+" "+e.teacher.surname)+" ")]),s("td",{staticClass:"is-vcentered is-capitalized"},[t._v(" "+t._s(t.dayWeeks[e.date])+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(t.timeframes[e.time])+" ")]),s("td",{staticClass:"is-vcentered"},[s("button",{staticClass:"button is-primary",on:{click:function(i){return t.bookingForUser(e)}}},[s("span",{staticClass:"icon is-small mr-1"},[s("ion-icon",{attrs:{name:"bookmark-outline"}})],1),t._v(" Prenota ")])]),s("td",{staticClass:"is-vcentered"},[s("button",{staticClass:"button is-danger",on:{click:function(i){return t.deleteAvailableResConferma(e.id)}}},[s("span",{staticClass:"icon is-small mr-1"},[s("ion-icon",{attrs:{name:"trash-outline"}})],1),t._v(" Elimina ")])])])})),0)])])])]):s("div",[s("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[t._v(" 15% ")])]),s("div",{staticClass:"card pt-5 pb-3 mb-5"},[s("div",{staticClass:"card-content"},[t._m(3),s("div",{staticClass:"card-content"},[s("div",{staticClass:"tag is-danger is-light mb-2"},[t._v(" Tutti i campi sono obbligatori. ")]),t._m(4),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("AdminDropDown",{attrs:{defaultValue:"Scegli una materia",elems:t.materie,selectionEvent:"materiaSelezionata"},on:{materiaSelezionata:function(t){e.newReservationPayload.materia=t,e.isNewReservationFormComplete()}}})],1),s("div",{staticClass:"column"},[s("AdminDropDown",{attrs:{defaultValue:"Scegli un professore",elems:t.insegnanti,selectionEvent:"insegnanteSelezionato"},on:{insegnanteSelezionato:function(t){e.newReservationPayload.professore=t,e.isNewReservationFormComplete()}}})],1),s("div",{staticClass:"column"},[s("AdminDropDown",{attrs:{defaultValue:"Scegli un giorno",elems:t.date,selectionEvent:"giornoSelezionato"},on:{giornoSelezionato:function(t){e.newReservationPayload.giorno=t,e.isNewReservationFormComplete()}}})],1),s("div",{staticClass:"column"},[s("AdminDropDown",{attrs:{defaultValue:"Scegli un orario",elems:t.orari,selectionEvent:"orarioSelezionato"},on:{orarioSelezionato:function(t){e.newReservationPayload.ora=t,e.isNewReservationFormComplete()}}})],1),s("div",{staticClass:"column"},[s("button",{staticClass:"pt-3 button is-primary",attrs:{disabled:!t.isNewReservationFormComplete()},on:{click:function(e){return t.addingAvailableReservationConfirmation()}}},[t._v(" Conferma ")])])])])])]),s("div",{staticClass:"card pt-5"},[s("div",{staticClass:"card-content"},[t._m(5),t.hasRetriviedHistory?s("table",{staticClass:"table is-hoverable is-striped is-fullwidth"},[t._m(6),s("tbody",t._l(t.bookingHistory,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.id)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.user.id)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.user.email)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.course.id)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.course.title)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.rDate)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.rTime)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.teacher.id)+" ")]),s("td",{staticClass:"is-vcentered"},[t._v(" "+t._s(e.teacher.name+" "+e.teacher.surname)+" ")]),s("td",{staticClass:"is-vcentered"},[s("span",{staticClass:"ml-2 has-text-right tag",class:"completed"==e.status?"is-success":"deleted"==e.status?"is-warning":"is-link"},[t._v(t._s(e.status))])]),s("td",{staticClass:"is-vcentered"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button is-danger is-full-width mr-1",attrs:{disabled:"deleted"==e.status},on:{click:function(i){return t.reservationManagment("deleted",e.id)}}},[s("span",{staticClass:"icon is-medium"},[s("ion-icon",{attrs:{name:"trash"}})],1)]),s("button",{staticClass:"button is-success is-full-width",attrs:{disabled:"completed"==e.status},on:{click:function(i){return t.reservationManagment("completed",e.id)}}},[s("span",{staticClass:"icon is-medium"},[s("ion-icon",{attrs:{name:"checkmark-circle"}})],1)]),s("button",{staticClass:"button is-info is-full-width",attrs:{disabled:"booked"==e.status},on:{click:function(i){return t.reservationManagment("booked",e.id)}}},[s("span",{staticClass:"icon is-medium"},[s("ion-icon",{attrs:{name:"calendar-number"}})],1)])])])])})),0)]):s("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[t._v(" 15% ")])])])]):s("div",[t._m(7),s("button",{staticClass:"button is-primary",on:{click:t.loginStatusChanged}},[t._v(" Accedi ")]),s("button",{staticClass:"button is-light ml-4",on:{click:t.goToHomePage}},[t._v(" Torna alla home ")])])],1)])])},Re=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title"},[e._v(" Gestione prenotazioni "),i("span",{staticClass:"tag is-primary is-danger"},[e._v("Admin")])]),i("h2",{staticClass:"subtitle mb-5"},[e._v(" Aggiungi o rimuovi una prenotazione. ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4 pb-5"},[e._v(" Prenotazioni disponibili ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[e._v("ID")]),i("th",[e._v("Materia")]),i("th",[e._v("Insegnante")]),i("th",[e._v("Giorno")]),i("th",[e._v("Orario")]),i("th",[e._v("Prenota per")]),i("th",[e._v("Rimuovi")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4"},[e._v(" Inserimento ripetizione ")]),i("h2",{staticClass:"subtitle is-6 pb-3"},[e._v(" Inserisci i dettagli della ripetizione ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[e._v("Materia")]),i("div",{staticClass:"column"},[e._v("Insegnante")]),i("div",{staticClass:"column"},[e._v("Giorno")]),i("div",{staticClass:"column"},[e._v("Ora")]),i("div",{staticClass:"column"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h1",{staticClass:"title is-4 pb-5"},[e._v(" Storico prenotazioni ")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("thead",[i("tr",[i("th",[i("abbr",{attrs:{title:"ID Prenotazione"}},[e._v("IDP")])]),i("th",[i("abbr",{attrs:{title:"ID Utente"}},[e._v("IDU")])]),i("th",[e._v("Email utente")]),i("th",[i("abbr",{attrs:{title:"ID Corso"}},[e._v("IDC")])]),i("th",[e._v("Corso")]),i("th",[e._v("Giorno")]),i("th",[e._v("Orario")]),i("th",[i("abbr",{attrs:{title:"ID Insegnante"}},[e._v("IDI")])]),i("th",[e._v("Insegnante")]),i("th",[e._v("Status")]),i("th",[e._v("Cambia stato")])])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"message is-danger"},[i("div",{staticClass:"message-header"},[i("p",[e._v("Attenzione!")])]),i("div",{staticClass:"message-body"},[e._v(" Per accedere a questa pagina devi aver effettuato l'accesso come Admin. "),i("br"),e._v('Clicca il bottone "Accedi" per autenticarti. ')])])}],Ee=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown",class:{"is-active":e.isToggled},on:{click:function(t){return e.toggleDropdown()}}},[i("div",{staticClass:"dropdown-trigger"},[i("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"}},[i("span",[e._v(e._s(e.dropDownText()))]),i("span",{staticClass:"icon is-small"},[i("ion-icon",{attrs:{name:"chevron-down-outline"}})],1)])]),i("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[i("div",{staticClass:"dropdown-content"},e._l(e.elems,(function(t,s){return i("a",{key:s,staticClass:"dropdown-item",on:{click:function(i){return e.changeSelection(s,t.id)}}},[e._v(" "+e._s(t.value))])})),0)])])},Te=[],De={name:"AdminDropDown",data:function(){return{isToggled:!1,selectedElement:-1}},props:["elems","defaultValue","selectionEvent"],methods:{toggleDropdown:function(){this.isToggled=!this.isToggled},dropDownText:function(){return-1==this.selectedElement?this.defaultValue:this.elems[this.selectedElement].value},changeSelection:function(e,t){this.selectedElement=e,this.$emit(this.selectionEvent,t)}}},Ie=De,Fe=Object(u["a"])(Ie,Ee,Te,!1,null,null,null),Ue=Fe.exports,je=function(){var e=this,t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("div",{staticClass:"modal is-active"},[s("div",{staticClass:"modal-background"}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box has-text-centered mb-6 pt-5 pb-5"},[s("h1",{staticClass:"title pt-5"},[t._v(" Prenota un ripetizione per un utente ")]),s("h2",{staticClass:"subtitle pb-5",staticStyle:{"white-space":"pre-line"}},[t._v(" Seleziona l'utente ")]),s("p",[t._v(t._s(t.reservation.name))]),s("p",[t._v(t._s(t.teacher.name+" "+t.teacher.surname))]),s("p",[t._v(t._s(t.hour.long+" "+t.day.long))]),t.hasRetriviedUsers?s("div",[s("AdminDropDown",{attrs:{defaultValue:"Scegli un utente",elems:t.users,selectionEvent:"utenteSelezionato"},on:{utenteSelezionato:function(t){e.selectedUser=t,e.hasSelectedUser=!0}}})],1):s("progress",{staticClass:"progress is-small is-primary mt-5",attrs:{max:"100"}},[t._v(" 15% ")]),s("button",{staticClass:"button mt-4 is-primary is-fullwidth",attrs:{disabled:!t.hasSelectedUser},on:{click:function(e){return t.askBookingConfirmation()}}},[t._v(" Prenota ")]),s("button",{staticClass:"button mt-4 is-fullwidth",on:{click:function(e){return t.btnCloseAction()}}},[t._v(" Annulla ")])])]),s("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){return t.btnCloseAction()}}})]),t.isBooking?s("ModalConferma",{attrs:{payload:t.confirmationPayload,confirmAction:t.axiosBookUser,cancelAction:t.clearOngoingAction}}):t._e(),t.esitoOperazione?s("ModalGenerico",{attrs:{isSuccess:t.esitoOperazione.success,title:t.esitoOperazione.title,subtitle:t.esitoOperazione.subtitle,btnPrimary:t.esitoOperazione.btnPrimary,btnSecondary:t.esitoOperazione.btnSecondary,btnPAction:t.clearOngoingAction,btnCloseAction:t.clearOngoingAction}}):t._e()],1)},Me=[],$e={name:"BookForUser",props:{hour:{short:null,long:null},day:{short:null,long:null},reservation:{id:null,name:null},teacher:{id:null,name:null,surname:null}},data:function(){return{users:[],esitoOperazione:null,hasRetriviedUsers:!1,selectedUser:null,hasSelectedUser:!1,confirmationPayload:null,bookingPayload:null,isBooking:!1}},mounted:function(){this.getUsersList()},methods:{clearOngoingAction:function(){this.confirmationPayload=null,this.isBooking=!1,this.bookingPayload=null,this.esitoOperazione&&this.esitoOperazione.success&&this.btnCloseAction(),this.esitoOperazione=null},getUsersList:function(){console.log("f");var e=this;y.a.defaults.withCredentials=!0,y.a.get("//log-in",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){200==t.status?(t.data.forEach((function(t){e.users.push({id:t.id,value:t.email})})),e.hasRetriviedUsers=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:"data"in t.response?t.response.data:"Undefined",btnPrimary:"Ok"}}))},askBookingConfirmation:function(){var e=this,t=this.users.find((function(t){return t.id==e.selectedUser}));this.bookingPayload={idUser:t.id,idReservation:this.reservation.id},this.confirmationPayload={actionTitle:"Aggiungi",actionText:"Vuoi aggiungere questa prenotazione per questo utente?",bookingForUser:{email:t.value,professore:this.teacher.name+" "+this.teacher.surname,data:this.day.long,ora:this.hour.long,materia:this.reservation.name}},this.isBooking=!0},axiosBookUser:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.put("//available-reservations?idReservationAvailable="+e.bookingPayload.idReservation+"&uID="+e.bookingPayload.idUser,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Utente correttamente prenotato",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))},btnCloseAction:function(){this.$emit("chiuso")}},components:{AdminDropDown:Ue,ModalGenerico:ae,ModalConferma:X}},Be=$e,qe=Object(u["a"])(Be,je,Me,!1,null,null,null),Ne=qe.exports,Ge={name:"GestionePrenotazioni",props:{loginStatus:{required:!0,default:!1},accesso:{required:!0}},data:function(){return{hasRetriviedBookingsAvailable:!0,tutoringDeleting:null,esitoOperazione:null,availableCourses:null,isDeletingAvailableBooking:!1,isAddingNewAvailableReservation:!1,deletingTeacherPayload:null,modalNewAvailableReservationPayload:null,nome:null,cognome:null,isInsertingTeacher:!1,bookingHistory:null,hasRetriviedHistory:!1,availableCoursesFiltered:{},dayWeeks:{lun:"lunedì",mar:"martedì",mer:"mercoledì",gio:"giovedì",ven:"venerdì"},timeframes:{15:"15-16",16:"16-17",17:"17-18",18:"18-19"},materie:[],insegnanti:[],utenti:null,date:[{id:0,value:"lun"},{id:1,value:"mar"},{id:2,value:"mer"},{id:3,value:"gio"},{id:4,value:"ven"}],orari:[{id:0,value:"15"},{id:1,value:"16"},{id:2,value:"17"},{id:3,value:"18"}],newReservationPayload:{professore:null,giorno:null,materia:null,ora:null},bookingUser:!1,bookingUserPayload:null}},watch:{loginStatus:function(e){e&&this.axiosBasicCalls()}},mounted:function(){this.loginStatus&&this.axiosBasicCalls()},methods:{axiosBasicCalls:function(){this.axiosGetPrenotazioniDisponibili(),this.axiosGetBookingHistory(),this.getInsegnanti(),this.getMaterie()},isNewReservationFormComplete:function(){var e=!0;for(var t in this.newReservationPayload)null==this.newReservationPayload[t]&&(e=!1);return console.log(e),e},convertTimeKey:function(e){var t="";switch(e){case"time15":t="15-16";break;case"time16":t="16-17";break;case"time17":t="17-18";break;case"time18":t="18-19";break}return t},clearOngoingAction:function(){this.esitoOperazione=null,this.isDeletingAvailableBooking=!1,this.deletingTeacherPayload=null,this.isInsertingTeacher=!1,this.tutoringDeleting=null,this.isAddingNewAvailableReservation=!1,this.bookingUserPayload=null,this.bookingUser=!1},clearFields:function(){this.nome=null,this.cognome=null},goToHomePage:function(){this.$router.push("/prenota")},loginStatusChanged:function(){this.accesso()},checkFieldAndAsk:function(){var e=/^([a-zA-Z])+(( ){1}[A-z]+)*$/;e.test(this.nome.trim())?(this.insertInsegnanteConferma(),e.test(this.cognome.trim())?this.insertInsegnanteConferma():this.esitoOperazione={success:!1,title:"Errore!",subtitle:"Formato cognome errato!\n                        Il cognome può contenere solo lettere.\n                        Separare più cognomi tramite uno spazio.\n                        ",btnPrimary:"Ok"}):this.esitoOperazione={success:!1,title:"Errore!",subtitle:"Formato nome errato!\n\t\t\t\t\tIl nome può contenere solo lettere.\n\t\t\t\t\tSeparare più nomi tramite uno spazio.\n\t\t\t\t\t",btnPrimary:"Ok"}},axiosDeleteAvailableTutoring:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.delete("//available-reservations?idAvailableReservation="+e.tutoringDeleting.materia.idPrenotazione,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("fff"+t.data),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Prenotazione correttamente rimossa",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){console.log("fff"+t),e.esitoOperazione={success:!1,title:"Errore!",subtitle:"data"in t.response?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){e.hasRetriviedBookingsAvailable=!1,e.axiosGetPrenotazioniDisponibili()}))},deleteAvailableResConferma:function(e){var t=this.availableCourses.find((function(t){return t.id==e}));console.log(t),this.isDeletingAvailableBooking=!0,this.tutoringDeleting={actionTitle:"Elimina",actionText:"Vuoi rimuovere questa ripetizione?\n\t\t\t\tQuesta operazione è irreversibile",materia:{idPrenotazione:t.id,docente:t.teacher.name+" "+t.teacher.surname,data:this.dayWeeks[t.date],orario:this.timeframes[t.time],materia:t.course.title}},console.log(e)},addingAvailableReservationConfirmation:function(){var e=this,t=this.materie.find((function(t){return t.id===e.newReservationPayload.materia})).value,i=this.insegnanti.find((function(t){return t.id===e.newReservationPayload.professore})).value;this.modalNewAvailableReservationPayload={actionTitle:"Inserisci",actionText:"Vuoi aggiungere questa ripetizione?",ripetizione:{materia:t,professore:i,giorno:this.dayWeeks[this.date[this.newReservationPayload.giorno].value],ora:this.timeframes[this.orari[this.newReservationPayload.ora].value]}},this.isAddingNewAvailableReservation=!0},axiosGetPrenotazioniDisponibili:function(){this.hasRetriviedBookingsAvailable=!1;var e=this;y.a.defaults.withCredentials=!0,y.a.get("//available-reservations").then((function(t){console.log(t),200==t.status?(console.log(t.data),e.availableCourses=t.data,e.hasRetriviedBookingsAvailable=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:"data"in t.response?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))},axiosGetBookingHistory:function(){var e=this;y.a.defaults.withCredentials=!0,y.a.get("//requested-reservations").then((function(t){console.log(t),200==t.status?(console.log(t.data),e.bookingHistory=t.data,e.hasRetriviedHistory=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:"data"in t.response?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))},reservationManagment:function(e,t){var i=this;y.a.defaults.withCredentials=!0,y.a.put("//requested-reservations?idRequestedReservation="+t+"&status="+e,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),200==e.status?i.esitoOperazione={success:!0,title:"Successo!",subtitle:"Modifica effettuata con successo.",btnPrimary:"Ok"}:i.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(e){"data"in e.response?e.response.data.includes("reservation_available_duplicate")?i.esitoOperazione={success:!0,title:"Successo!",subtitle:"Ripetizione modificata.",btnPrimary:"Ok"}:i.esitoOperazione={success:!1,title:"Errore!",subtitle:e.response.data,btnPrimary:"Ok"}:i.esitoOperazione={success:!1,title:"Errore!",subtitle:"Riprovare",btnPrimary:"Ok"}})).finally((function(){i.axiosGetBookingHistory()}))},axiosAddNewAvailableReservation:function(){var e=this;this.isAddingNewAvailableReservation=!0,console.log("//available-reservations?idTeacher="+e.newReservationPayload.professore+"&idCourse="+e.newReservationPayload.materia+"&date="+e.date[e.newReservationPayload.giorno].value+"&time="+e.orari[e.newReservationPayload.ora].value),y.a.defaults.withCredentials=!0,y.a.post("//available-reservations?idTeacher="+e.newReservationPayload.professore+"&idCourse="+e.newReservationPayload.materia+"&date="+e.date[e.newReservationPayload.giorno].value+"&time="+e.orari[e.newReservationPayload.ora].value,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log("fff"+t.data),200==t.status?e.esitoOperazione={success:!0,title:"Successo!",subtitle:"Nuova ripetizione correttamente aggiunta",btnPrimary:"Ok"}:e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){console.log("fff"+t),e.esitoOperazione={success:!1,title:"Errore!",subtitle:"data"in t.response?t.response.data:"Undefined",btnPrimary:"Ok"},"data"in t.response&&t.response.data.includes("reservation_available_duplicate")&&(e.esitoOperazione.subtitle="Prenotazione già disponibile")})).finally((function(){e.hasRetriviedBookingsAvailable=!1,e.axiosGetPrenotazioniDisponibili()}))},getInsegnanti:function(){this.hasRetrivedTeachers=!1;var e=this;y.a.defaults.withCredentials=!0,y.a.get("//teacher",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?(t.data.forEach((function(t){e.insegnanti.push({id:t.id,value:t.name+" "+t.surname})})),e.hasRetrivedTeachers=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))},getMaterie:function(){this.hasRetrivedCourses=!1;var e=this;y.a.defaults.withCredentials=!0,y.a.get("//course",{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){console.log(t),200==t.status?(t.data.forEach((function(t){e.materie.push({id:t.id,value:t.title})})),e.hasRetrivedCourses=!0):e.esitoOperazione={success:!1,title:"Errore!",subtitle:"Server irraggiungibile",btnPrimary:"Ok"}})).catch((function(t){e.esitoOperazione={success:!1,title:"Errore!",subtitle:t.response.data?t.response.data:"Undefined",btnPrimary:"Ok"}})).finally((function(){}))},bookingUserClosed:function(){this.hasRetriviedBookingsAvailable=!1,this.axiosGetPrenotazioniDisponibili(),this.axiosGetBookingHistory(),this.bookingUser=!1},bookingForUser:function(e){this.bookingUserPayload={hour:{short:e.time,long:this.timeframes[e.time]},day:{short:e.date,long:this.dayWeeks[e.date]},reservation:{id:e.id,name:e.course.title},teacher:{id:e.teacher.id,name:e.teacher.name,surname:e.teacher.surname}},this.bookingUser=!0}},components:{ModalConferma:X,ModalGenerico:ae,AdminDropDown:Ue,BookForUser:Ne}},Le=Ge,He=(i("9198"),Object(u["a"])(Le,xe,Re,!1,null,null,null)),Ke=He.exports;s["a"].use(O["a"]);var We=[{path:"/",name:"Home",component:M},{path:"/prenota",name:"Prenota",component:le},{path:"/prenotazioni",name:"Prenotazioni",component:he},{path:"/admin/insegnanti",name:"insegnanti",component:_e},{path:"/admin/corsi",name:"corsi",component:Se},{path:"/admin/prenotazioni",name:"prenotazioni",component:Ke}],Ve=new O["a"]({routes:We}),Qe=Ve,Ze=i("2b27"),Je=i.n(Ze);s["a"].config.productionTip=!1,s["a"].config.ignoredElements=[/^ion-/],s["a"].use(Je.a),new s["a"]({router:Qe,render:function(e){return e(w)}}).$mount("#app")},"6f4f":function(e,t,i){},"840d":function(e,t,i){},"85ec":function(e,t,i){},9198:function(e,t,i){"use strict";i("6f4f")},a6c3:function(e,t,i){"use strict";i("01ab")},f5fb:function(e,t,i){"use strict";i("840d")}});
//# sourceMappingURL=app.06d05e05.js.map